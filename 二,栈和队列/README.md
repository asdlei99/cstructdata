## 栈和队列的应用


### 一, 中序表达式转后序表达式

1.已知操作符包括+,-,*,/,(和)。将中缀表达式a+b-a*((c+d)/e-f)+g转换为等价的后缀表达式ab+acd+e/f-*-g+时,用栈来存放暂时还不能确定运算次序的操作符。若栈初始时为空,则转换过程中同时保持在栈中的操作符的最大个数是

考查栈在中缀表达式转化为后缀表达式中的应用。将中缀表达式a+b-a*((c+d)/e-f)+g转换为相应的后缀表达式,需要根据操作符<op>的优先级来进行栈的变化,我们用icp来表示当前扫描到的运算符ch的优先级,该运算符进栈后的优先级为isp,则运算符的优先级如下表所示[isp是栈内优先(in stack priority)数, icp是栈外优先(in coming priority)数]。

|操作符|#|(|*,/|+,-|)|
|:--:|:--:|:--:|:--:|:--:|:--:|
|isp|0|1|5|3|6|
|icp|0|6|4|2|1|

我们在表达式后面加上符号'#',表示表达式结束。具体转换过程如下:

|步骤|扫描项|项类型|动作|栈的内容|输出|
|:--:|:--:|:--:|:--:|:--:|:--:|
|0|||'#'进栈,读下一符号|#||
|1|a|操作数|直接输出|#|a|
|2|+|操作符|isp('#') < icp('+'), 进栈|#+||
|3|b|操作数|直接输出|#+|b| 
|4|-|操作符|isp('+') > icp('-'),退栈并输出|#|+|
|5|||isp('#')<icp('-'),进栈|#-||
|6|a|操作数|直接输出|#-|a|
|7|*|操作符|isp('-') < icp('*'),进栈|#-*||
|8|(|操作符|isp('*')<icp('('),进栈|#-*(||
|9|(|操作符|isp('(')<icp('('),进栈|#-*((||
|10|c|操作数|直接输出|#-*((|c|
|11|+|操作符|isp('(')<icp(')'),进栈|#-*((+||
|12|d|操作数|直接输出|#-*((+|d|
|13|)|操作符|isp('+')>icp(')'),退栈并输出|#-*((|+|
|14|||isp('(')==icp(')'),进栈|#-*(||
|15|/|操作符|isp('(')<icp('/'),进栈|#-*(/||
|16|e|操作数|直接输出|#-*(/|e|
|17|-|操作符|isp('/')>icp(')'),退栈并输出|#-*(|/|
|18|||isp('(')<icp('-'),进栈|#-*(-||
|19|f|操作数|直接输出|#-*(-|f|
|20|)|操作符|isp('-')>icp(')'),退栈并输出|#-*(|-|
|21|||isp('(')==icp(')'),直接退栈|#-*||
|22|+|操作符|isp('*')>icp('+'),退栈并输出|#-|*|
|23|||isp('-')>icp('+'),退栈并输出|#|-|
|24|||isp('#')<icp('+'),进栈|#+||
|25|g|操作数|直接输出|#+|g|
|26|#|操作符|isp('+')>icp('#'),退栈并输出|#|1|
|27|||isp('#')==icp('#'),退栈, 结束|||

即相应的后缀表达式为ab+acd+e/f-*-g+。由上表可以看出,第11,12步时栈中存放的操作符最多,请注意题中明确表示了6种操作符,而'#'不算,  即最大个数为5。